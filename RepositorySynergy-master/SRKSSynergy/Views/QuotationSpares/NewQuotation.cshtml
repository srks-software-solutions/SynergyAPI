<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@ViewBag.Title - Synergy Application</title>
    <meta name="viewport" content="width=device-width" />
    @*@Styles.Render("~/Content/css")*@
    <link href="~/Content/bootstrap/css/bootstrap.css" rel="stylesheet" />
    <link href="~/Content/bootstrap/css/bootstrap-responsive.css" rel="stylesheet" />
    <link href="~/Content/bootstrap/css/MDB.css" rel="stylesheet" />
    <link href="~/Content/bootstrap/css/jquery.ui.autocomplete.css" rel="stylesheet" />
    <script src="~/Content/bootstrap/js/jquery.js"></script>
    <script src="~/Content/bootstrap/js/jquery-ui.js"></script>
    <script src="~/Content/bootstrap/js/jquery1.8.2.min.js"></script>
    <script src="~/Content/bootstrap/js/jQuery%20UI%201.9.2.js"></script>
    @*<script src="~/Content/bootstrap/js/jquery-1.9.1.min.js"></script>*@
    @*<script src="~/Content/bootstrap/js/bootstrap.min.js"></script>*@
    @Scripts.Render("~/bundles/modernizr")
    @{
        var CustUniID = "";
        var CusName = "";
    }
    <script type="text/javascript">
        $(document).ready(function () {
            $(".newcustomer").hide();
            $(".existingcustomer").hide();
            $("#ecus").click(function () {
                $(".existingcustomer").show();
                $(".newcustomer").hide();
            });
            $("#ncus").click(function () {
                $(".newcustomer").show();
                $(".existingcustomer").hide();
            });
        });
    </script>
    @*@{
        <script>
        function updateparent() {
            CustUniID = document.getElementById("custunid").value;
            CusName = document.getElementById("custnam").value;
            return true;
        }
            </script>
        }*@
    @* Auto Complete for customer unique id *@
    <script type="text/javascript">
        $(document).ready(function () {
            $("#custunid").autocomplete({
                source: function (request, response) {
                    $.ajax({
                        url: "/QuotationSpares/Autocomplete1",
                        type: "POST",
                        dataType: "json",
                        data: { term: request.term },
                        success: function (data) {
                            response($.map(data, function (item) {
                                return { label: item.CompanyUniqueID, value: item.CompanyUniqueID };
                            }))

                        }
                    })
                },
                messages: {
                    noResults: "", results: ""
                }
            });
        });
    </script>
    @* Auto Complete for Customer Name *@
    <script type="text/javascript">
        $(document).ready(function () {
            $("#custnam").autocomplete({
                source: function (request, response) {
                    $.ajax({
                        url: "/QuotationSpares/Autocomplete",
                        type: "POST",
                        dataType: "json",
                        data: { term: request.term },
                        success: function (data) {
                            response($.map(data, function (item) {
                                return { label: item.OrganizationName, value: item.OrganizationName };
                            }))

                        }
                    })
                },
                messages: {
                    noResults: "", results: ""
                }
            });
        });
    </script>
    @* on focus readonly *@
    @*<script type="text/javascript">
        $(document).ready(function () {
            $("#custunid").focus(function () {
                $("#custnam").attr("readonly")
            });
        });
    </script>*@

    @if (ViewBag.NullError)
    {
        <script>
            alerterrormsg();
            function alerterrormsg() {
                alert('Please select a Valid Customer Name or ID!!!!');
            }
        </script>
    }
</head>
<body>
    @model SRKSSynergy.Models.MDBGeneralData

    @{
        Layout = null;
        ViewBag.Title = "NewQuotation";
    }

    @using (Html.BeginForm("NewQuotation", "QuotationSpares", new { custnam = CusName, custunid = CustUniID }, FormMethod.Post))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(false)
        <div style="background: #e5e5e5; min-height: 620px;">
            <div style="background: gray; padding-bottom: 15px;">
                <p class="txtft">New Quotation</p>
            </div>
            <div class="row" style="padding-top: 10px">
                <div class=" row show-grid">
                    @* Selection For New Customer or Existing Customer *@
                    <div style="padding-left: 100px">
                        <table class="table" style="width: 650px">
                            <tr>
                                <td style="width: 150px">
                                    <label class="radio ">
                                        <input type="radio" name="optionsRadios" class="nwcus" id="ncus" value="nwquo">
                                        New Customer
                                    </label>
                                </td>
                                <td style="width: 50px; text-align: left">
                                    <label>(or)</label>
                                </td>
                                <td style="width: 300px">
                                    <label class="radio ">
                                        <input type="radio" name="optionsRadios" class="nwcus" id="ecus" value="esquo">
                                        Existing Customer
                                    </label>
                                </td>
                            </tr>
                        </table>
                    </div>
                    @* End of Selection *@
                    @* Existing Customer *@
                    <div class="span12 pad ">
                        <div class="span3">
                            <div class="control-group ">
                                <label class="control-label fntst existingcustomer">Customer Unique ID</label>
                                <div class="controls ">
                                    @Html.TextBox("custunid", null, new { @class = "fntst existingcustomer", @placeholder = "Customer Unique ID" })
                                    @*<input type="text" class="fntst existingcustomer" value="" id="custunid" placeholder="Customer Unique ID">*@
                                </div>
                            </div>
                        </div>
                        <div class="span existingcustomer">
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                	 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(or)
                        </div>
                        <div class="span3 ">
                            <div class="control-group ">
                                <label class="control-label fntst existingcustomer">Customer Name</label>
                                <div class="controls ">
                                    @Html.TextBox("custnam", null, new { @class = "fntst existingcustomer", @placeholder = "Customer Name" })
                                    @*<input type="text" class="fntst existingcustomer" value="" id="custnam" placeholder="Customer Name">*@
                                    @*@Html.TextBox("custnm", null, new {@class="fntst existingcustomer" })*@
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="span10">
                        <div class="span3">
                            <div style="padding-left:30px">
                                <input type="submit" value="Get Details" class="btn btn-info existingcustomer" style="width: 150px; height: 45px; text-decoration: none;" />
                                @*@Html.ActionLink("Get Details", "Create", null, new { @class = "btn btn-info existingcustomer", id = "gd", @style = "width: 150px; height: 45px; text-decoration:none;", @onclick = "javascript:return updateparent();" })*@
                            </div>
                        </div>
                    </div>
                    @* End of Existing Customer *@
                    @* New Customer Entry Form *@
                    <div class="span12 pad ">
                        <div class="span3">
                            <div class="control-group ">
                                <label class="control-label fntst newcustomer">Create Customer</label>
                                <div class="controls ">
                                    @Html.ActionLink("Detailed Entry Form", "Create", "MDB", null, new { @class = "btn btn-info newcustomer", @style = "width: 150px; height: 45px; text-decoration:none;" })
                                </div>
                            </div>
                        </div>
                        <div class="span newcustomer">
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                	        (or)
                        </div>
                        <div class="span3 ">
                            <div class="control-group ">
                                <label class="control-label fntst newcustomer">Create Customer</label>
                                <div class="controls ">
                                    @*@Html.ActionLink("Quick Entry Form", "NewCustomer", null, new { @class = "btn btn-info newcustomer", @style = "width: 150px; height: 45px; text-decoration:none;" })*@

                                    @Html.ActionLink("Quick Entry Form", "LEIndexRevised","LeadEnquiry", null, new { @class = "btn btn-info newcustomer", @style = "width: 150px; height: 45px; text-decoration:none;" })
                                </div>
                            </div>
                        </div>
                    </div>
                    @* End of New Customer Entry Form *@
                </div>
            </div>
        </div>
    }
    @Scripts.Render("~/bundles/jqueryval")
</body>
</html>
